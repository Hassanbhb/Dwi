extends layouts/layout
block content
  include partials/header.pug
  +header(username, isAdmin)
  main
    .controle-posts
      .myposts
        h1 My posts: #{posts.length}
        .control_posts_labels
          p Date
          p Author
          p Comments
          p Actions
        each post in posts.reverse()
          - var postId = post._id
          .postData_control
            p= post.createdAt.split(',')[0]
            p= post.author.username
            p= post.comments.length
            .actions
              div
                img(src="images/show-24px.svg" alt="Show post")
              a(href='#/' class="delete-post" data-postId= postId)
                img(src="images/delete-24px.svg" alt="delete post")
          .postContent.hide
            p= post.body
block scripts
  script(src="/javascripts/controle.js")